{"version":3,"sources":["../../src/node/makePageRoutes.js"],"names":["makePageRoutes","items","pageSize","pageToken","route","decorate","itemsCopy","pages","length","push","splice","totalPages","firstPage","routes","map","page","i","path"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAe,SAASA,cAAT,OAMZ;AAAA,MALDC,KAKC,QALDA,KAKC;AAAA,MAJDC,QAIC,QAJDA,QAIC;AAAA,4BAHDC,SAGC;AAAA,MAHDA,SAGC,+BAHW,MAGX;AAAA,MAFDC,KAEC,QAFDA,KAEC;AAAA,MADDC,QACC,QADDA,QACC;;AACD,MAAMC,SAAS,sBAAOL,KAAP,CAAf,CADC,CAC4B;;;AAC7B,MAAMM,KAAK,GAAG,EAAd,CAFC,CAEgB;;AAEjB,SAAOD,SAAS,CAACE,MAAjB,EAAyB;AACvB;AACAD,IAAAA,KAAK,CAACE,IAAN,CAAWH,SAAS,CAACI,MAAV,CAAiB,CAAjB,EAAoBR,QAApB,CAAX;AACD;;AAED,MAAMS,UAAU,GAAGJ,KAAK,CAACC,MAAzB,CATC,CAWD;;AACA,MAAMI,SAAS,GAAGL,KAAK,CAAC,CAAD,CAAvB;AAEA,MAAMM,MAAM,sBAELT,KAFK,EAGLC,QAAQ,CAACO,SAAD,EAAY,CAAZ,EAAeD,UAAf,CAHH,6BAMPJ,KAAK,CAACO,GAAN,CAAU,UAACC,IAAD,EAAOC,CAAP;AAAA,6BACRZ,KADQ;AACD;AACVa,MAAAA,IAAI,YAAKb,KAAK,CAACa,IAAX,cAAmBd,SAAnB,cAAgCa,CAAC,GAAG,CAApC;AAFO,OAGRX,QAAQ,CAACU,IAAD,EAAOC,CAAC,GAAG,CAAX,EAAcL,UAAd,CAHA;AAAA,GAAV,CANO,EAAZ;AAaA,SAAOE,MAAP;AACD;;;;;;;;;;;;;0BAlCuBb,c","sourcesContent":["export default function makePageRoutes({\n  items,\n  pageSize,\n  pageToken = 'page',\n  route,\n  decorate,\n}) {\n  const itemsCopy = [...items] // Make a copy of the items\n  const pages = [] // Make an array for all of the different pages\n\n  while (itemsCopy.length) {\n    // Splice out all of the items into separate pages using a set pageSize\n    pages.push(itemsCopy.splice(0, pageSize))\n  }\n\n  const totalPages = pages.length\n\n  // Move the first page out of pagination. This is so page one doesn't require a page number.\n  const firstPage = pages[0]\n\n  const routes = [\n    {\n      ...route,\n      ...decorate(firstPage, 1, totalPages), // and only pass the first page as data\n    },\n    // map over each page to create an array of page routes, and spread it!\n    ...pages.map((page, i) => ({\n      ...route, // route defaults\n      path: `${route.path}/${pageToken}/${i + 1}`,\n      ...decorate(page, i + 1, totalPages),\n    })),\n  ]\n\n  return routes\n}\n"],"file":"makePageRoutes.js"}