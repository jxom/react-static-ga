{"version":3,"sources":["../../../../src/static/webpack/rules/cssLoader.js"],"names":["initCSSLoader","cssLoader","loader","options","importLoaders","sourceMap","ident","plugins","postcssFlexbugsFixes","browsers","flexbox","stage","isNode","test","ExtractCssChunks"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;AAEA,SAASA,aAAT,GAAyB;AACvB,MAAMC,SAAS,GAAG,CAChB;AACEC,IAAAA,MAAM,EAAE,YADV;AAEEC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,CADR;AAEPC,MAAAA,SAAS,EAAE;AAFJ;AAFX,GADgB,EAQhB;AACEH,IAAAA,MAAM,EAAE,gBADV;AAEEC,IAAAA,OAAO,EAAE;AACP;AACA;AACAE,MAAAA,SAAS,EAAE,IAHJ;AAIPC,MAAAA,KAAK,EAAE,SAJA;AAKPC,MAAAA,OAAO,EAAE;AAAA,eAAM,CACbC,6BADa,EAEb,2BAAa;AACXC,UAAAA,QAAQ,EAAE,CACR,KADQ,EAER,iBAFQ,EAGR,aAHQ,EAIR,YAJQ,CADC;AAOXC,UAAAA,OAAO,EAAE,SAPE,CAOS;;AAPT,SAAb,CAFa,CAAN;AAAA;AALF;AAFX,GARgB,CAAlB;AA8BA,SAAOT,SAAP;AACD;;eAEc,wBAA4B;AAAA,MAAjBU,KAAiB,QAAjBA,KAAiB;AAAA,MAAVC,MAAU,QAAVA,MAAU;AACzC,MAAIX,SAAS,GAAGD,aAAa,CAACW,KAAD,CAA7B;;AACA,MAAIA,KAAK,KAAK,MAAV,IAAoBC,MAAxB,EAAgC;AAC9B,WAAO;AACLC,MAAAA,IAAI,EAAE,QADD;AAELX,MAAAA,MAAM,EAAED;AAFH,KAAP;AAID;;AAEDA,EAAAA,SAAS,IAAIa,uCAAiBZ,MAArB,4BAAgCD,SAAhC,EAAT,CATyC,CASW;;AAEpD,SAAO;AACLY,IAAAA,IAAI,EAAE,QADD;AAELX,IAAAA,MAAM,EAAED;AAFH,GAAP;AAID,C;;;;;;;;;;;;;;;0BAjDQD,a","sourcesContent":["import autoprefixer from 'autoprefixer'\nimport ExtractCssChunks from 'extract-css-chunks-webpack-plugin'\nimport postcssFlexbugsFixes from 'postcss-flexbugs-fixes'\n\nfunction initCSSLoader() {\n  const cssLoader = [\n    {\n      loader: 'css-loader',\n      options: {\n        importLoaders: 1,\n        sourceMap: false,\n      },\n    },\n    {\n      loader: 'postcss-loader',\n      options: {\n        // Necessary for external CSS imports to work\n        // https://github.com/facebookincubator/create-react-app/issues/2677\n        sourceMap: true,\n        ident: 'postcss',\n        plugins: () => [\n          postcssFlexbugsFixes,\n          autoprefixer({\n            browsers: [\n              '>1%',\n              'last 4 versions',\n              'Firefox ESR',\n              'not ie < 9', // React doesn't support IE8 anyway\n            ],\n            flexbox: 'no-2009', // I'd opt in for this - safari 9 & IE 10.\n          }),\n        ],\n      },\n    },\n  ]\n  return cssLoader\n}\n\nexport default function({ stage, isNode }) {\n  let cssLoader = initCSSLoader(stage)\n  if (stage === 'node' || isNode) {\n    return {\n      test: /\\.css$/,\n      loader: cssLoader,\n    }\n  }\n\n  cssLoader = [ExtractCssChunks.loader, ...cssLoader] // seeing as it's HMR, why not :)\n\n  return {\n    test: /\\.css$/,\n    loader: cssLoader,\n  }\n}\n"],"file":"cssLoader.js"}