{"version":3,"sources":["../../../src/static/getRoutes/normalizeRoute.js"],"names":["normalizeRoute","route","parent","path","parentPath","is404","Error","JSON","stringify","originalRoutePath","routePath","noIndex","console","warn","normalizedRoute","originalPath","noindex","hasGetProps","getData"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;AAEe,SAASA,cAAT,CAAwBC,KAAxB,EAA4C;AAAA,MAAbC,MAAa,uEAAJ,EAAI;AAAA,qBACtBA,MADsB,CACjDC,IADiD;AAAA,MAC3CC,UAD2C,6BAC9B,GAD8B;;AAGzD,MAAI,CAACH,KAAK,CAACE,IAAX,EAAiB;AACf,QAAIF,KAAK,CAACI,KAAV,EAAiB;AACf,YAAM,IAAIC,KAAJ,8EACoEC,IAAI,CAACC,SAAL,CACtEP,KADsE,CADpE,EAAN;AAKD;;AACD,UAAM,IAAIK,KAAJ,sCAAwCC,IAAI,CAACC,SAAL,CAAeP,KAAf,CAAxC,EAAN;AACD;;AAED,MAAMQ,iBAAiB,GAAG,qBAASR,KAAK,CAACE,IAAf,CAA1B;AACA,MAAMO,SAAS,GAAG,qBAASN,UAAT,EAAqBH,KAAK,CAACE,IAA3B,CAAlB;;AAEA,MAAI,OAAOF,KAAK,CAACU,OAAb,KAAyB,WAA7B,EAA0C;AACxCC,IAAAA,OAAO,CAACC,IAAR,6BAEIZ,KAAK,CAACE,IAFV;AAKD;;AAED,MAAMW,eAAe,qBAChBb,KADgB;AAEnBE,IAAAA,IAAI,EAAE,0BAAaO,SAAb,CAFa;AAGnBK,IAAAA,YAAY,EAAEN,iBAHK;AAInBO,IAAAA,OAAO,EACL,OAAOf,KAAK,CAACe,OAAb,KAAyB,WAAzB,GAAuCf,KAAK,CAACe,OAA7C,GAAuDd,MAAM,CAACc,OAL7C;AAMnBC,IAAAA,WAAW,EAAE,CAAC,CAAChB,KAAK,CAACiB;AANF,IAArB;;AASA,SAAOJ,eAAP;AACD;;;;;;;;;;;;;0BAnCuBd,c","sourcesContent":["import { pathJoin } from '../../utils'\nimport { getRoutePath } from '../../browser/utils'\n\nexport default function normalizeRoute(route, parent = {}) {\n  const { path: parentPath = '/' } = parent\n\n  if (!route.path) {\n    if (route.is404) {\n      throw new Error(\n        `route.is404 has been deprecated. Use \\`path: '404'\\` instead! Route: ${JSON.stringify(\n          route\n        )}`\n      )\n    }\n    throw new Error(`No path defined for route: ${JSON.stringify(route)}`)\n  }\n\n  const originalRoutePath = pathJoin(route.path)\n  const routePath = pathJoin(parentPath, route.path)\n\n  if (typeof route.noIndex !== 'undefined') {\n    console.warn(\n      `=> Warning: Route ${\n        route.path\n      } is using 'noIndex'. Did you mean 'noindex'?`\n    )\n  }\n\n  const normalizedRoute = {\n    ...route,\n    path: getRoutePath(routePath),\n    originalPath: originalRoutePath,\n    noindex:\n      typeof route.noindex !== 'undefined' ? route.noindex : parent.noindex,\n    hasGetProps: !!route.getData,\n  }\n\n  return normalizedRoute\n}\n"],"file":"normalizeRoute.js"}